{% extends 'base.html' %}
{% load static newsletter django_bootstrap5 %}

{% block header %}
    <div class="show-flex flex-wrap justify-content-between margin-bottom-3 margin-bottom-tablet-5">
        <div class="show-flex margin-start-0 site-brand align-items-center">
            <img alt="Logo" src="{% static 'img/logo-light.png' %}" class="margin-end-2" style="height: 4rem;">
            <svg height="2em" viewBox="0 0 1598 503" version="1.1">
                <path d="M306.937574,123 L412,123 L412,321.851008 C412,358.064639 403.386337,389.751567 386.159011,416.911791 C368.931684,444.072015 344.870043,465.210105 313.974087,480.326063 C283.078131,495.442021 247.086769,503 206,503 C164.751472,503 128.67923,495.442021 97.7832744,480.326063 C66.8873184,465.210105 42.866117,444.072015 25.7196702,416.911791 C8.5732234,389.751567 0,358.064639 0,321.851008 L0,123 L105.062426,123 L105.062426,312.878434 C105.062426,331.793589 109.227719,348.607061 117.558304,363.318849 C125.888889,378.030637 137.656851,389.589899 152.862191,397.996635 C168.06753,406.403371 185.780133,410.606739 206,410.606739 C226.381625,410.606739 244.134668,406.403371 259.259128,397.996635 C274.383589,389.589899 286.111111,378.030637 294.441696,363.318849 C302.772281,348.607061 306.937574,331.793589 306.937574,312.878434 L306.937574,123 Z" id="Path" fill="#0E323A" fill-rule="nonzero"></path>
                <path d="M563.190678,280.848329 L563.190678,496 L460,496 L460,123.845758 L558.346045,123.845758 L558.346045,189.505784 L562.706215,189.505784 C570.94209,167.861397 584.749294,150.699336 604.127825,138.019602 C623.506356,125.339867 647.002825,119 674.617232,119 C700.455273,119 722.982815,124.653385 742.199859,135.960154 C761.416902,147.266924 776.35452,163.37907 787.012712,184.296594 C797.670904,205.214117 803,230.129392 803,259.042416 L803,496 L699.809322,496 L699.809322,277.456298 C699.97081,254.681234 694.15725,236.873072 682.368644,224.031812 C670.580038,211.190553 654.350518,204.769923 633.680085,204.769923 C619.792137,204.769923 607.55944,207.758141 596.981992,213.734576 C586.404543,219.711011 578.168668,228.392995 572.274364,239.780527 C566.380061,251.168059 563.352166,264.857326 563.190678,280.848329 Z" id="Path" fill="#0E323A" fill-rule="nonzero"></path>
                <path d="M985.068136,502 C956.778223,502 931.196059,494.694806 908.321643,480.084419 C885.447228,465.474031 867.341683,443.921692 854.00501,415.4274 C840.668337,386.933108 834,351.940826 834,310.450555 C834,267.830198 840.870407,232.353594 854.611222,204.020743 C868.352037,175.687892 886.659653,154.458434 909.534068,140.332369 C932.408484,126.206303 957.505678,119.143271 984.825651,119.143271 C1005.67936,119.143271 1023.09786,122.654607 1037.08116,129.677279 C1051.06446,136.699952 1062.38043,145.417752 1071.02906,155.83068 C1079.67769,166.243608 1086.2652,176.454735 1090.79158,186.464062 L1093.94389,186.464062 L1093.94389,0 L1197,0 L1197,495.945972 L1095.15631,495.945972 L1095.15631,436.374337 L1090.79158,436.374337 C1085.94188,446.706544 1079.11189,456.917672 1070.3016,467.007718 C1061.49132,477.097765 1050.09452,485.452324 1036.11122,492.071394 C1022.12792,498.690465 1005.11356,502 985.068136,502 Z M1017.80361,419.907381 C1034.45424,419.907381 1048.55878,415.34668 1060.11723,406.225277 C1071.67568,397.103875 1080.5668,384.309696 1086.79058,367.84274 C1093.01436,351.375784 1096.12625,332.083615 1096.12625,309.966233 C1096.12625,287.84885 1093.05478,268.637402 1086.91182,252.331886 C1080.76887,236.026371 1071.87776,223.433993 1060.23848,214.554752 C1048.5992,205.675511 1034.45424,201.23589 1017.80361,201.23589 C1000.82966,201.23589 986.523046,205.836951 974.883768,215.039074 C963.244489,224.241196 954.434202,236.995015 948.452906,253.300531 C942.47161,269.606046 939.480962,288.494613 939.480962,309.966233 C939.480962,331.599292 942.512024,350.689661 948.574148,367.237337 C954.636273,383.785014 963.44656,396.700273 975.00501,405.983116 C986.56346,415.265959 1000.82966,419.907381 1017.80361,419.907381 Z" id="Shape" fill="#B0A793" fill-rule="nonzero"></path>
                <path d="M1414.5,503 C1376.79674,503 1344.23115,494.948823 1316.80324,478.846469 C1289.37533,462.744115 1268.21781,440.249369 1253.33069,411.362232 C1238.44356,382.475095 1231,348.935267 1231,310.742749 C1231,272.226566 1238.44356,238.524905 1253.33069,209.637768 C1268.21781,180.750631 1289.37533,158.255885 1316.80324,142.153531 C1344.23115,126.051177 1376.79674,118 1414.5,118 C1452.20326,118 1484.76885,126.051177 1512.19676,142.153531 C1539.62467,158.255885 1560.78219,180.750631 1575.66931,209.637768 C1590.55644,238.524905 1598,272.226566 1598,310.742749 C1598,348.935267 1590.55644,382.475095 1575.66931,411.362232 C1560.78219,440.249369 1539.62467,462.744115 1512.19676,478.846469 C1484.76885,494.948823 1452.20326,503 1414.5,503 Z M1414.98545,422.892812 C1432.13801,422.892812 1446.45877,417.997373 1457.94775,408.206494 C1469.43673,398.415616 1478.13437,385.02396 1484.04067,368.031526 C1489.94698,351.039092 1492.90013,331.700084 1492.90013,310.014502 C1492.90013,288.32892 1489.94698,268.989912 1484.04067,251.997478 C1478.13437,235.005044 1469.43673,221.57293 1457.94775,211.701135 C1446.45877,201.82934 1432.13801,196.893443 1414.98545,196.893443 C1397.67108,196.893443 1383.14804,201.82934 1371.41634,211.701135 C1359.68463,221.57293 1350.86563,235.005044 1344.95933,251.997478 C1339.05302,268.989912 1336.09987,288.32892 1336.09987,310.014502 C1336.09987,331.700084 1339.05302,351.039092 1344.95933,368.031526 C1350.86563,385.02396 1359.68463,398.415616 1371.41634,408.206494 C1383.14804,417.997373 1397.67108,422.892812 1414.98545,422.892812 Z" id="Shape" fill="#B0A793" fill-rule="nonzero"></path>
            </svg>
        </div>

        {% include 'theme/main_menu.html' %}
    </div>

    <p class="display-2">Explore how history&rsquo;s outliers got stuff done.</p>
    <form action="{% url 'create_subscriber' %}" method="post" class="show-flex">
        {% bootstrap_field form.email show_label=False size='lg' wrapper_class='flex-grow-1 margin-end-2' field_class='rounded-pill' placeholder='jo@example.com' %}
        <button type="submit" class="btn btn-primary flex-shrink-0 rounded-pill">Subscribe</button>
        {{ form.hidden_fields|join:'' }}
        {% csrf_token %}
    </form>
{% endblock header %}

{% block body %}
    <div class="grid justify-content-center">
        {% for object in post_list %}
            <div class="show-flex flex-column cell-tablet-4 margin-bottom-4">
                <a href="{{ object.get_absolute_url }}" class="show-flex flex-column justify-content-between background-white padding-3 rounded height-100 text-black text-decoration-none">
                    <div>
                        <h2 class="h5 margin-top-0">{{ object.title }}</h2>
                        <div class="small">{{ object.get_excerpt|truncatewords:20|linebreaks }}</div>
                    </div>

                    <p class="text-muted margin-bottom-0">
                        <img alt="{{ object.author.get_full_name }}'s avatar" src="{{ object.author.email|gravatar:96 }}" class="rounded-circle" style="height: 1rem;">
                        {{ object.published|date:'jS F, Y' }}
                    </p>
                </a>
            </div>
        {% endfor %}
    </div>
{% endblock body %}
